# Default values for Soteria.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

namespace: dispatching-staging
region: teh-1

image:
  registry: docker-registry.default.svc:5000
  repository: realtime-staging/soteria
  tag: dev
  pullPolicy: Always

timezone: Asia/Tehran

service:
  type: ClusterIP
  ports:
    - name: http
      port: 9999
      protocol: tcp
    - name: grpc
      port: 50051
      protocol: tcp

resources:
  limits:
    memory: 128Mi
    cpu: 2
  requests:
    memory: 128Mi
    cpu: 1

autoscaling:
  enabled: false
  minReplicas: 3
  maxReplicas: 20
  targetCPUUtilizationPercentage: 65

rollingParams:
  maxSurge: 5
  maxUnavailable: 0

ingress:
  enabled: false
  annotations: { }
  # kubernetes.io/ingress.class: nginDeploymentConfigx
  # kubernetes.io/tls-acme: "true"
  hosts:
    - host: chart-example.local
      paths: [ ]
  tls: [ ]

serviceMonitor:
  enabled: false

jwtKeys:
  0.pem: |-
    -----BEGIN PUBLIC KEY-----
    MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQBk7O6M5p4eYNAwtVU2beGa
    W4mhFG94OtYUWDl1E7UUrhUNGf97Eb/45NjQszu0YPERnApJc2RUm2TrS7iq0mHz
    Xbwf+CbNF54Q5mjuHcpBKgvFwUUSCCYBftmRc4xbFIH4Oh3nHC2GeukUS9TmJwjM
    tJKyU0Ve8BK5BgjhagM7XSs+scE2mxemoWtcs6mJLtBuEgRGMgHW00mSdOcLp/+l
    oHpSzRYN92/DomwmmjGVy8Ji0faeHx+r79ZzE0E8Rcc29Yhrg1ymrjfkXg98WjAb
    TSv4UAN20lsBDejpnGEZKJrxHZ56gHgaJn6PKKCD6ItJA7y7iraCdBhCfAIUIz/z
    AgMBAAE=
    -----END PUBLIC KEY-----
  1.pem: |-
    -----BEGIN PUBLIC KEY-----
    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA1lNRwyNsDieWs6LvHOJ+
    GyehhRC4Pn5yL5edKP3565F3LtRDMrkzwDRsQbqnUtTea9HCdTdBv+lI8vE17qRi
    RQn10IMaIH6e4Aa3OWNClFhuqNOag7VmffsjTOgxHgHpfGAKVF/4BwqOHrdHFbAD
    VOiWB1hv9Uc0C5laffGAub7fj+EAI02zlrsNDxYW8vyF2H47N7VWcvgd3RhZpxlG
    8bq9phl7Ja55YmQiT2Ic3/K5tsazg5z9lz6OTrx+JvWbefHFlJpjCLz5yefEaRmX
    9L/zyDMi4jgFTZEWNXC2vIrxwZMFwFhBXEp0PcCbuHJgJIucbRrbwukQC16uHJwP
    zQIDAQAB
    -----END PUBLIC KEY-----
  100.pem: |-
    -----BEGIN PUBLIC KEY-----
    MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCTxwVGmWzJNOaZnBRL+9/V1Mc8
    OWWzUDxlG2kL+0WxHh8/+76ngIvp7YsHHxUadR0iY6NkzLgFv+sBkKh523Nx0Ytu
    GgmGuuVTaD27G2inwgFDabUsAKISBbn6d6jwlkfk3D+O6h5pdLqoI64Zq/NPmD0o
    Wsupn2HVhMSjFbE6dwIDAQAB
    -----END PUBLIC KEY-----
  100.private.pem: |-
    -----BEGIN RSA PRIVATE KEY-----
    MIICWwIBAAKBgQCTxwVGmWzJNOaZnBRL+9/V1Mc8OWWzUDxlG2kL+0WxHh8/+76n
    gIvp7YsHHxUadR0iY6NkzLgFv+sBkKh523Nx0YtuGgmGuuVTaD27G2inwgFDabUs
    AKISBbn6d6jwlkfk3D+O6h5pdLqoI64Zq/NPmD0oWsupn2HVhMSjFbE6dwIDAQAB
    AoGAJDRGHp3IASNsu4V5k4QJuqF+jkqhl+S4Zyzn939/+3ydu1c5xl+/53fC7+O1
    j93RXXN7vF5LV11FfgSqwe/5wDEcAtyLXWPCHtLB1CIYFfqHxgwOQm4gQSyOgBnP
    hMccyv0VCDK23+Mk37lLkuON6xXMC8+IUq5UW/aadxkeqoECQQDU9Z5IFCmp3Ibs
    hJXx/x+ZQI+gLj0hh71pQEO2zqhu19i+M62KKnDb7k2OtK9IJR2ucU+YE3SXGShh
    1sPmgfVfAkEAsaTtZ1oZmszOs5TPYhs2e7LKLPNADZ36GVsG2h1FHVX+LyNkwk/E
    pn+FV3Dd1vkzxG/a3znEKz+2BJiz4vF56QJATUxKA4euB8XQA5Gsi4Y7Bfl1KIMg
    FUeb7NQyv+wLHxChz4gaeYgmJu48oIvdA6bVOzhN17lYHHA5RCocOVL6qQJAdHdT
    6nmo5dO3BQfgO0rqGolqgbPtX8AeE3eZc3DTOluBrbf/vGF95UcfzedCmkmBxh0r
    m0SNN2mq1TKkZXq52QJAIjxhG7spkOSZJQnVBA9TfLYZFM/aUzDpLxflvFAuJuqJ
    l+PFsbek2Zl6fgy294dXRvQhp1PJryngDaXTBiWK6g==
    -----END RSA PRIVATE KEY-----

authEnvs:
  jwt_keys_path: "/jwt_pems/"
  driver_salt: "12345678901234567890123456789012"
  passenger_salt: "12345678901234567890123456789012"
  driver_hash_length: "15"
  passenger_hash_length: "15"

envs:
  http_port: "9999"
  grpc_port: "50051"
  mode: "debug"
  redis_address: "main-redis-master.dispatching-staging.svc:6379"
  redis_pass: ""
  redis_pool_size: "10"
  redis_max_retries: "0"
  redis_read_timeout: "3s"
  redis_pool_timeout: "4s"
  redis_min_retry_backoff: "8ms"
  redis_max_retry_backoff: "512ms"
  redis_idle_timeout: "300s"
  redis_idle_check_frequency: "60s"
  redis_set_member_exp_time: "300s"
  redis_min_idle_connections: "5"
  logger_level: "debug"
  logger_sentry_enabled: "false"
  logger_sentry_dsn: ""
  logger_sentry_timeout: "500ms"
  allowed_access_types: "sub,pub"
  cache_enabled: "true"
  cache_expiration: "600s"
